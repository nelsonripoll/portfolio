Lab 7

In this lab, you'll perform three tasks associated with one of the VMs created in previous labs:

 - Start a VM from the command line.
 - Stop a VM from the command line. 
 - Configure that VM from the command line.

You may recognize these tasks from the RHCSA objectives. The process should be fairly simple. First, take account of currently configured VMs with the following command:

# virsh list --all

From the VMs that appear in the output, pick one that isn't currently running. If the server1.example.com system is not running, start it. Confirm that it is currently running. Use the ssh command to access a remote console on that VM system.

Now from the command line of the host physical system, stop that virtual console. What command actually performs the task? Confirm the result with the virsh list --all command.

If you want to set up the server1.example.com system to start automatically during the boot process, run the following command:

# virsh autostart server1.example.com

To confirm the change, review the contents of the /etc/libvirt/qemu/autostart directory. Next, enter the VM system and run the ip addr show command to confirm the IP address of that VM's network card. If you've configured this particular server1.example.com system per the instructions discussed in Chapter 1, that IP address should be 192.168.122.50.

Now power down any currently running VMs, and reboot the physical host system. When the system boots again, log in to the local host system. Don't start Virtual Machine Manager. Run the ssh commands described in Lab 6. If it works, then you should be able to connect to the VM as if it were a remote system.

Exit from the remote system and run the virsh list --all command. You should see output similar to the following:

 Id    Name                           State
----------------------------------------------------
 2     server1.example.com            running

Now power down the remote system. You can ssh again into the remote system and run the poweroff command directly from there. How do you reverse the process, so this system does not start the next time you reboot the physical host system?

