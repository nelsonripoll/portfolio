Lab 4

In this lab, you'll modify the Kickstart file created on the server1.example.com VM in Lab 1. It's the anaconda-ks.cfg file in the root user's home directory. That file will be used to automate the installation of a system on a virtual machine. Unless you've already created it, the system will be tester1.example.com on IP address 192.168.122.150. If you've set up the server1.example.com system on a different network, make sure the tester1.example.com system is on the same network. Remember the lessons of the chapter when modifying that file. Here are a few hints:

1. Change the network directive to set the new system to an appropriate IP address and hostname.

2. Make sure the partition directives are active (uncommented). Change them as needed to make sure a size is specified.

3. Configure the system to shut down after installation is complete.

4. Don't be afraid of some trial and error. If the installation stops during the process, check the messages in different virtual consoles (see point 11).

5. Copy the Kickstart file to the installation directory created in Chapter 1. Use the techniques discussed in that chapter to make sure the Kickstart file matches the SELinux context of other files in that directory and ensure it is readable by all users.

6. Create a new KVM-based VM, using the techniques discussed in the chapter.

7. Boot the system from the RHEL 7 network boot CD.

8. At the boot screen, highlight the Install Red Hat Enterprise Linux 7.0 option and press tab.

9. Add the ks directive along with the URL of the network installation source created in Chapter 1.

10. Press enter. The installation should now proceed to completion, without intervention.

11. If the installation stops during the process, make notes on where it stopped. The screens available during the installation process can help. To access those screens, press ctrl-alt-f3, ctrl-alt-f4, and ctrl-alt-f5. To return to the main installation screen, press alt-f6 (alt-f1 if you're using the text-based installation program).

12. Match the stopping point with the appropriate entry in the Kickstart configuration file.

13. Modify the Kickstart configuration file, and rerun the Kickstart-based installation.

